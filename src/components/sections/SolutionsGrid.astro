---
/**
 * SolutionsGrid Section
 * Displays solutions in a grid using the unified FeatureCard component.
 */

import Container from '@/components/ui/Container.astro';
import Section from '@/components/ui/Section.astro';
import FeatureCard from '@/components/ui/FeatureCard.astro';

interface Solution {
  slug: string;
  title: string;
  description: string;
  icon: string;
  image?: string;
  [key: string]: any;
}

interface Props {
  solutions: Solution[];
  title?: string;
  subtitle?: string;
  showAllLink?: boolean;
  background?: 'white' | 'gray' | 'primary' | 'dark';
}

const {
  solutions,
  title = 'Soluciones',
  subtitle = 'Tecnolog√≠a y personal adaptado a cada sector',
  showAllLink = true,
  background = 'white',
} = Astro.props;

// Solution images mapping
const solutionImages: Record<string, string> = {
  'condominios': 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'mineria': 'https://images.unsplash.com/photo-1578319439584-104c94d37305?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'retail': 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'construccion': 'https://images.unsplash.com/photo-1504307651254-35680f356dfd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'hoteleria': 'https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'inmobiliaria': 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'eventos': 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
  'corporativo': 'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
};

// Get image for solution
function getSolutionImage(slug: string) {
  return solutionImages[slug] || 'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
}
---

<Section id="soluciones" background={background}>
  <Container>
    {/* Section Header */}
    <div class="mb-12 md:mb-16">
      <h2 class="text-3xl md:text-4xl font-semibold text-gray-900 mb-4 tracking-tight">
        {title}
      </h2>
      <p class="text-gray-500 max-w-2xl text-lg">
        {subtitle}
      </p>
    </div>

    {/* Solutions Grid */}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
      {
        solutions.map((solution) => (
          <FeatureCard
            title={solution.title}
            description={solution.description}
            image={solution.image || getSolutionImage(solution.slug)}
            imageAlt={solution.title}
            icon={solution.icon}
            href={`/soluciones/${solution.slug}`}
            linkText="Ver soluciones"
          />
        ))
      }
    </div>

    {/* View All Link */}
    {
      showAllLink && (
        <div class="text-center mt-12">
          <a
            href="/soluciones"
            class="inline-flex items-center gap-2 px-6 py-3 bg-gray-100 hover:bg-gray-900 hover:text-white text-gray-900 font-medium rounded-xl transition-all duration-300"
          >
            Ver todas las soluciones
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"/>
            </svg>
          </a>
        </div>
      )
    }
  </Container>
</Section>
