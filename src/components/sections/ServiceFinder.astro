---
/**
 * ServiceFinder Section - Monochromatic Design
 * Floating card with dropdowns to find security solutions.
 * Minimal, clean design inspired by Porsche.com and Ajax.systems.
 */

import Container from '@/components/ui/Container.astro';

// Cities and communes where Guardman operates (RM focus)
const cities = [
  'Santiago Centro',
  'Las Condes',
  'Providencia',
  'Vitacura',
  'Lo Barnechea',
  'Ñuñoa',
  'La Reina',
  'Peñalolén',
  'Maipú',
  'Puente Alto',
];

// Services offered
const serviceTypes = [
  'Guardias de Seguridad',
  'Patrullaje de Condominios',
  'Alarmas Ajax Systems',
  'GuardPod - Módulos',
  'Drones de Seguridad',
  'Control de Acceso',
  'CCTV / Monitoreo',
  'Consultoría',
];

// Solutions served (aligned with src/data/solutions.ts)
const solutionTypes = [
  'Condominios',
  'Minería',
  'Retail',
  'Construcción',
  'Hotelería',
  'Inmobiliaria',
  'Eventos',
  'Corporativo',
];
---

<section id="service-finder" class="relative -mt-20 z-20 pb-16">
  <Container>
    <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 border border-gray-200">
      {/* Header */}
      <div class="text-center mb-6">
        <h2 class="text-xl md:text-2xl font-semibold text-gray-900 mb-2 tracking-tight">
          Encuentra tu solución de seguridad
        </h2>
        <p class="text-gray-500 text-sm md:text-base">
          Selecciona tu ciudad, el tipo de servicio y te mostraremos la mejor opción
        </p>
      </div>

      {/* Form */}
      <form class="grid grid-cols-1 md:grid-cols-4 gap-4">
        {/* City Selector */}
        <div class="relative">
          <label class="block text-xs font-medium text-gray-500 mb-1.5 uppercase tracking-wide">
            Ciudad
          </label>
          <select
            class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 appearance-none cursor-pointer hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-gray-400 transition-all text-sm"
          >
            <option value="">Selecciona una ciudad</option>
            {cities.map((city) => (
              <option value={city.toLowerCase().replace(/\s/g, '-')}>{city}</option>
            ))}
          </select>
          <svg
            class="absolute right-3 bottom-3.5 w-5 h-5 text-gray-400 pointer-events-none"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </div>

        {/* Service Selector */}
        <div class="relative">
          <label class="block text-xs font-medium text-gray-500 mb-1.5 uppercase tracking-wide">
            Servicio requerido
          </label>
          <select
            class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 appearance-none cursor-pointer hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-gray-400 transition-all text-sm"
          >
            <option value="">Tipo de servicio</option>
            {serviceTypes.map((service) => (
              <option value={service.toLowerCase().replace(/\s/g, '-')}>{service}</option>
            ))}
          </select>
          <svg
            class="absolute right-3 bottom-3.5 w-5 h-5 text-gray-400 pointer-events-none"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </div>

        {/* Solution Selector */}
        <div class="relative">
          <label class="block text-xs font-medium text-gray-500 mb-1.5 uppercase tracking-wide">
            Solución <span class="text-gray-400 font-normal">(opcional)</span>
          </label>
          <select
            class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 appearance-none cursor-pointer hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-gray-400 transition-all text-sm"
          >
            <option value="">Selecciona tu solución</option>
            {solutionTypes.map((solution) => (
              <option value={solution.toLowerCase().replace(/\s/g, '-')}>{solution}</option>
            ))}
          </select>
          <svg
            class="absolute right-3 bottom-3.5 w-5 h-5 text-gray-400 pointer-events-none"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </div>

        {/* Search Button */}
        <div class="flex items-end">
          <button
            type="submit"
            class="w-full px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white font-semibold rounded-xl transition-all duration-300 flex items-center justify-center gap-2 text-sm"
          >
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            Buscar soluciones
          </button>
        </div>
      </form>
    </div>
  </Container>
</section>
