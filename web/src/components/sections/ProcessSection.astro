---
/**
 * ProcessSection Component
 * Horizontal timeline with 4 steps.
 * Premium monochromatic design.
 */

import Section from '@/components/ui/Section.astro';
import Container from '@/components/ui/Container.astro';

interface ProcessStep {
  number: number | string;
  title: string;
  description: string;
}

interface Props {
  title?: string;
  subtitle?: string;
  steps: ProcessStep[];
  background?: 'white' | 'gray';
  class?: string;
}

const { title, subtitle, steps, background = 'gray', class: className = '' } = Astro.props;
---

<Section background={background} class={className}>
  <Container>
    {/* Header */}
    {(title || subtitle) && (
      <div class="text-center mb-16">
        {title && (
          <h2 class="text-3xl md:text-5xl font-semibold text-gray-900 mb-6 tracking-tight">
            {title}
          </h2>
        )}
        {subtitle && (
          <p class="text-gray-500 text-lg max-w-2xl mx-auto leading-relaxed">
            {subtitle}
          </p>
        )}
      </div>
    )}

    {/* Timeline */}
    <div class="relative">
      <!-- Connecting Line (Desktop) -->
      <div class="hidden lg:block absolute top-8 left-0 right-0 h-px bg-gray-200"></div>

      <!-- Steps Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-0">
        {steps.map((step, index) => (
          <div class="relative text-center lg:px-8 group">
            <!-- Number Circle -->
            <div class="relative z-10 w-16 h-16 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto mb-6 group-hover:border-black group-hover:bg-gray-900 transition-all duration-300">
              <span class="text-xl font-bold text-gray-400 group-hover:text-white transition-colors duration-300">
                {typeof step.number === 'number' ? `0${step.number}` : step.number}
              </span>
            </div>

            <!-- Title -->
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              {step.title}
            </h3>

            <!-- Description -->
            <p class="text-sm text-gray-500 leading-relaxed max-w-xs mx-auto">
              {step.description}
            </p>
          </div>
        ))}
      </div>
    </div>
  </Container>
</Section>
